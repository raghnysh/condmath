%%% Notes on condensed mathematics

\documentclass{article}

\usepackage{notes}

\addbibresource{condmath.bib}

\title{Notes on condensed mathematics}

\hypersetup{pdftitle={Notes on condensed mathematics}}

\hypersetup{pdfsubject={Mathematics}}

\hypersetup{pdfkeywords={condensed mathematics, topological algebra,
    profinite spaces, category theory, abelian categories, derived
    categories, infinity categories, topos theory}}

\author{Raghavendra Nyshadham\thanks{\cczero} \\
  {\normalsize\nolinkurl{rn@raghnysh.com}}}

\hypersetup{pdfauthor={Raghavendra Nyshadham (rn@raghnysh.com)}}

\date{2024-01-14}

\begin{document}

\begin{titlingpage}
  \maketitle

  \begin{abstract}
    This document is a set of rough notes on condensed mathematics.
    The document is a work in progress.  The files of the current
    version of the document are available at
    \url{https://github.com/raghnysh/condmath}.

    \mscnumbers{20E18, 18E10, 22A99, 18F10, 18G80, 18N60}

    \ghtopics{algebraic-geometry, category-theory, topology,
      homological-algebra}
  \end{abstract}
\end{titlingpage}

\tableofcontents

\section{Introduction}
\label{sec:113nrd0o}

This document is a set of rough notes on condensed mathematics, a
subject that was developed in the references \textcite{bib:872u2noz},
\textcite{bib:iy49ytm3}, and \textcite{bib:7k2n4jtn}.  The document is
a work in progress.  The files of the current version of the document
are available at \url{https://github.com/raghnysh/condmath}.

\section{Set theory}
\label{sec:pafnta4o}

This section contains some preliminaries on set theory: ordinals,
transfinite induction, cardinals, etc.  The description of these
topics here is informal because nothing is gained for these notes by
making the development more rigorous.

\subsection{Ordered sets}
\label{sec:5f3q5o8v}

This subsection is a recapitulation of some basic notions about orders
on sets.  It is essentially a summary of \S1 of Chapter~III in
\textcite{bib:lmhdqwpw}.

The \firstterm{negation} of a relation \(R\) on a set \(X\) is the
relation \(R^\neg\) on \(X\) that is defined by setting, for all
\(x, y \in X\), \(x R^\neg y\) if \(x\) is not related to \(y\) with
respect to \(R\), that is, if the statement \(x R y\) is false.  The
\firstterm{opposite} of \(R\) is the relation \(R^{\mathrm{op}}\) on
\(X\) that is defined by setting \(x R^{\mathrm{op}} y\) if \(y R x\).
The \firstterm{irreflexive kernel} of \(R\) is the relation \(R^\neq\)
on \(X\) that is defined by setting \(x R^\neq y\) if \(x R y\) and
\(x \neq y\).  The \firstterm{reflexive closure} of \(R\) is the
relation \(R^=\) on \(X\) that is defined by setting \(x R^= y\) if
\(x R y\) or \(x = y\); it is the smallest reflexive relation on \(X\)
that contains \(R\).

It is obvious that negation and forming the opposite are involutive
while the irreflexive kernel and reflexive closure are idempotent,
that is,
\begin{displaymath}
  (R^\neg)^\neg = R, \quad
  (R^{\mathrm{op}})^{\mathrm{op}} = R, \quad
  (R^\neq)^\neq = R^\neq, \quad
  (R^=)^= = R^=,
\end{displaymath}
and that taking the opposite commutes with the other three operations:
\begin{displaymath}
  (R^{\mathrm{op}})^\neg = (R^\neg)^{\mathrm{op}}, \quad
  (R^{\mathrm{op}})^\neq = (R^\neq)^{\mathrm{op}}, \quad
  (R^{\mathrm{op}})^= = (R^=)^{\mathrm{op}}.
\end{displaymath}

An \firstterm{order} on \(X\) is a relation \(R\) on it which is:
\begin{enumerate}
\item \firstterm{reflexive}: \(x R x\) for every element \(x\) of
  \(X\);
\item \firstterm{anti-symmetric}: if \(x, y \in X\), and \(x R y\) and
\(y R x\), then \(x = y\); and
\item \firstterm{transitive}: if \(x, y, z \in X\), and \(x R y\) and
  \(y R z\), then \(x R z\).
\end{enumerate}
An \firstterm{ordered set} is a set together with an order on it.

Usually the symbol \(\leq\) (or a similar symbol such as \(\preceq\)
or \(\sqsubseteq\)) is used as notation for an order.  If \(\leq\) is
used to denote an order, the opposite of \(\leq\) is denoted by
\(\geq\).  The irreflexive kernel of \(\leq\) is denoted by \(<\), and
that of \(\geq\) by \(>\).  The negations of \(\leq, \geq, <, >\) are
denoted by \(\nleq, \ngeq, \nless, \ngtr\), respectively.  The
corresponding notations when another symbol is used instead of
\(\leq\) are analogous to these notations.

Taking the irreflexive kernel is a bijection from the set of orders on
\(X\) onto the set of all relations \(<\) on \(X\) which are:
\begin{enumerate}
\item \firstterm{irreflexive}: there is no element \(x\) of \(X\) such
  that \(x < x\);
\item \emph{transitive}: if \(x,y,z \in X\), and \(x < y\) and
  \(y < z\), then \(x < z\).
\end{enumerate}
The inverse of this bijection maps any relation with these two
properties to its reflexive closure.

The restriction of an order \(\leq\) on \(X\) to any subset \(Y\) of
\(X\) is an order on \(Y\), which is said to be \firstterm{induced} by
the order on \(X\).  A family \((X_i)_{i \in I}\) of sets and an order
\(\leq_i\) on each \(X_i\) together induce on the set
\(X = \prod_{i \in I}X_i\) an order \(\leq\) called the
\firstterm{product} order, which is defined by setting for any two
elements \(x= (x_i)\) and \(y = (y_i)\) of \(X\), \(x \leq y\) if
\(x_i \leq_i y_i\) for all \(i\).  The product order specialises to an
order on the set \(Y^X\) of all functions from a set \(X\) to a set
\(Y\), in which any two functions \(f,g\) satisfy the condition
\(f \leq g\) if and only if \(f(x) \leq g(x)\) for all \(x \in X\).

A function \(f\) from an ordered set \(X\) to an ordered set \(Y\) is
called \firstterm{increasing} (respectively, \firstterm{decreasing})
if \(f(x) \leq f(x')\) (respectively, \(f(x) \geq f(x')\)) for all
\(x, x' \in X\) such that \(x \leq x'\).  It is called
\firstterm{strictly increasing} (respectively, \firstterm{strictly
  decreasing}) if \(f(x) < f(x')\) (respectively, \(f(x) > f(x')\))
for all \(x, x' \in X\) such that \(x < x'\).  These definitions imply
that an injective increasing (respectively, decreasing) function is
strictly increasing (respectively, strictly decreasing).  An
\firstterm{isomorphism} from \(X\) to \(Y\) is an increasing bijection
from \(X\) onto \(Y\) whose inverse is also increasing.  An
isomorphism from \(X\) to itself is called an \firstterm{automorphism}
of \(X\).

An element \(a\) of an ordered set \(X\) is called \firstterm{minimal}
(respectively, \firstterm{maximal}) if it is the only element \(x\) of
\(X\) such that \(x \leq a\) (respectively, \(x \geq a\)).  It is
called a \firstterm{minimum} (respectively, \firstterm{maximum}) of
\(X\) if \(a \leq x\) (respectively, \(a \geq x\)) for all
\(x \in X\).  Anti-symmetry implies that \(X\) has at most one
minimum, and at most one maximum.  A minimum (respectively, maximum)
of \(X\) is a minimal element (respectively, maximal element) of
\(X\).  In fact, if \(a\) is a minimum (respectively, maximum) of
\(X\), then it is the unique minimal element (respectively, maximal
element) of \(X\).

An element \(a\) of \(X\) is called a \firstterm{lower bound}
(respectively, \firstterm{upper bound}) of a subset \(Y\) of \(X\) if
\(a \leq y\) (respectively, \(a \geq y\)) for all \(y \in Y\).  A
subset of \(X\) is said to be \firstterm{bounded below} (respectively,
\firstterm{bounded above}) if it has a lower bound (respectively,
upper bound).  A maximum of the set of lower bounds of \(Y\) is called
the \firstterm{infimum} of \(Y\), and a minimum of the set of upper
bounds of \(Y\) is called the \firstterm{supremum} of \(Y\).  The
infimum and supremum of \(Y\) are unique when they exist, and are
respectively denoted by \(\inf Y\) and \(\sup Y\).

An order on a set \(X\) is called \firstterm{directed} (respectively,
\firstterm{codirected}) if every subset of \(X\) with two elements is
bounded above (respectively, bounded below).  A \firstterm{directed
  set} (respectively, \firstterm{codirected set}) is an ordered set
whose order is directed (respectively, codirected).  A maximal element
of a directed set is its maximum, and a minimal element of a
codirected set is its minimum.

A \firstterm{lattice} is an ordered set \(X\) with the property that
every subset of \(X\) with two elements has an infimum and a supremum.
The product of a family of lattices is again a lattice.

An order on a set \(X\) is said to be \firstterm{total} if for any two
elements \(x, y\) of \(X\), either \(x \leq y\) or \(y \leq x\).  An
order on \(X\) is total if and only if it has the property of
\firstterm{trichotomy}: for any two elements \(x, y\) of \(X\),
exactly one of the conditions \(x < y\), \(x = y\), \(x > y\) is true.
A \firstterm{totally ordered set} is an ordered set whose order is
total.  Every strictly increasing surjection from a totally ordered
set \(X\) onto any ordered set \(Y\) is an isomorphism; in particular,
any increasing bijection from \(X\) onto \(Y\) is an isomorphism.
Zorn's lemma, which is equivalent to the axiom of choice, states that
an ordered set in which every totally ordered subset is bounded above
has a maximal element.

For any two elements \(a, b\) of an ordered set \(X\), any of the sets
\begin{align*}
  [a, b]& = \{ x \in X \,\vert\, a \leq x \leq b \},&
  [a, b)& = \{ x \in X \,\vert\, a \leq x < b \}, \\
  (a, b]& = \{ x \in X \,\vert\, a < x \leq b \},&
  (a, b)& = \{ x \in X \,\vert\, a < x < b \},
\end{align*}
or the sets
\begin{align*}
    [a, \infty)& = \{ x \in X \,\vert\, a \leq x \},&
  (a, \infty)& = \{ x \in X \,\vert\, a < x \}, \\
  (-\infty, b]& = \{ x \in X \,\vert\, x \leq b \},&
  (-\infty, b)& = \{ x \in X \,\vert\, x < b \},
\end{align*}
or the set \(X\) itself, is called an \firstterm{interval}.  A subset
\(Y\) of \(X\) is called a \firstterm{segment} if for every
\(a \in Y\), the interval \((-\infty, a]\) is contained in \(Y\).  The
union and the intersection of a family of segments of \(X\) are
evidently segments, as are the empty set and \(X\).

\subsection{Well-ordered sets}
\label{sec:62tryw49}

An order on a set \(X\) is called a \firstterm{well-order} if every
nonempty subset of \(X\) has a minimum.  A well-order is total: if
\(x,y\) are two elements of \(X\), and if, for instance, \(x\) is the
minimum of the set \(\{ x, y \}\), then \(x \leq y\).  A well-order on
\(X\) induces a well-order on every subset of \(X\).  Zermelo's
theorem, which is equivalent to the axiom of choice, states that every
set has a well-order.  It is notationally convenient, especially when
the set \(X\) in question comes with an already given order, to
rephrase Zermelo's theorem as follows: for every set \(X\), there
exist a well-ordered set \(\Lambda\) and a bijection between
\(\Lambda\) and \(X\).

A \firstterm{well-ordered set} is an ordered set whose order is a
well-order.  Every subset of a well-ordered set that is bounded above
has a supremum.

\begin{theorem}
  \label{thm:htdzbbwv}
  Every segment \(Y\) of a well-ordered set \(X\) that is a proper
  subset of \(X\) is an interval \((-\infty, a)\) for a unique element
  \(a\) of \(X\); in fact, \(a\) is the minimum of the complement of
  \(Y\) in \(X\).
\end{theorem}

The complement \(Z\) of a proper segment \(Y\) of \(X\), being
nonempty, has a minimum \(a\).  For any element \(y\) of \(Y\), the
interval \((-\infty,y]\) is contained in \(Y\), so the element \(a\)
of \(X\) that lies outside \(Y\) is not in that interval; the
trichotomy property implies that \(a > y\).  Conversely, any element
\(y\) of \(X\) that is \(<\) the minimum \(a\) of \(Z\) lies outside
\(Z\), and is hence in \(Y\).  Therefore, \(Y = (-\infty,a)\).  If
\(a'\) is any element of \(X\) such that \(Y = (-\infty, a')\), then
\(a'\), which is the minimum of the complement \([a', \infty)\) of the
interval \((-\infty, a')\), is also the minimum of the complement of
\(Y\); thus, \(a' = a\).

\begin{theorem}
  \label{thm:b4yv5x3a}
  The function \(x \mapsto (-\infty, x)\) is an isomorphism from any
  well-ordered set \(X\) onto the set of proper segments of \(X\)
  ordered by inclusion.  In particular, the set of segments of \(X\)
  is well-ordered by inclusion.
\end{theorem}

The transitivity of \(<\) and \Cref{thm:htdzbbwv} imply that the
stated map is an increasing bijection from the totally ordered set
\(X\) onto the ordered set \(S\) of proper segments of \(X\), and is
hence an isomorphism.  It follows that \(S\) is well-ordered by
inclusion.  As every element of \(S\) is contained in \(X\), the set
of all segments of \(X\) is also well-ordered.

\begin{theorem}
  \label{thm:36vndfrs}
  Any segment \(Y\) of a well-ordered set \(X\) satisfies exactly one
  of the following conditions:
  \begin{enumerate}
  \item \(Y\) is an interval \((-\infty, a]\) for a unique
    \(a \in X\).
  \item \(Y\) is the union of the intervals \((-\infty, y)\) as \(y\)
    runs over \(Y\).
  \end{enumerate}
\end{theorem}

In case \(Y\) has a maximum \(a\), it is contained in the interval
\((-\infty, a]\); as \(a\) belongs to the segment \(Y\),
\((-\infty, a]\) is contained in \(Y\); therefore,
\(Y = (-\infty, a]\); anti-symmetry implies that \(a\) is the unique
element of \(X\) for which this equality is true.  On the other hand,
if \(Y\) does not have a maximum, for every element \(t\) of \(Y\),
there is an element \(y\) of \(Y\) such that \(y > t\), and because
\(Y\) is a segment, \((-\infty, y)\) is contained in \(Y\); thus,
\(Y\) is the union of the segments \((-\infty, y)\) as \(y\) runs over
\(Y\).

\begin{theorem}
  \label{thm:y3go6w2h}
  Let \(S\) be a set of segments of a well-ordered set \(X\) such
  that:
  \begin{enumerate}
  \item if \(x \in X\) and \((-\infty, x) \in S\), then
    \((-\infty, x] \in S\); and
  \item the union of any family of elements of \(S\) belongs to \(S\).
  \end{enumerate}
  Then every segment of \(X\) belongs to \(S\).
\end{theorem}

If the set \(T\) of segments of \(X\) that do not belong to \(S\) is
non-empty, then \Cref{thm:b4yv5x3a} implies that \(T\) has a minimum
\(Y\) under inclusion.  By \Cref{thm:36vndfrs}, this segment \(Y\) is
either \((-\infty, a]\) for some \(a \in X\), or the union of the
segments \((-\infty, y)\) as \(y\) runs over \(Y\).  In the first
case, the segment \((-\infty, a)\) is a proper subset of the minimum
\(Y\) of \(T\), and hence belongs to \(S\); the first hypothesis on
\(S\) implies that \(Y \in S\), a contradiction.  In the second case,
the segments \((-\infty, y)\) for \(y \in Y\) are proper subsets of
\(Y\), and hence belong to \(S\); the second hypothesis on \(S\)
implies that \(Y \in S\), again a contradiction.

An \firstterm{inductive} subset of an ordered set \(X\) is a subset
\(Y\) of \(X\) with the property that any element \(x\) of \(X\) such
that \((-\infty, x) \subset Y\) belongs to \(Y\).

\begin{theorem}[Principle of transfinite induction]
  \label{thm:5vxgawq0}
  The only inductive subset of a well-ordered set \(X\) is \(X\)
  itself.
\end{theorem}

If the complement \(Z\) of an inductive subset \(Y\) of \(X\) is
nonempty, then \(Z\) has a minimum \(a\).  Trichotomy implies that
every element \(x\) of \((-\infty, a)\) belongs to \(Y\); as \(Y\) is
inductive, \(a \in Y\), a contradiction.

Here is another proof, one that uses \Cref{thm:y3go6w2h}.  If an
inductive subset \(Y\) of \(X\) contains the interval \((-\infty, x)\)
for some \(x \in X\), it contains \(x\) also, hence
\((-\infty, x] \subset Y\).  On the other hand, the union of any
family of segments contained in \(Y\) is obviously a subset of \(Y\).
Therefore, every segment of \(X\) is contained in \(Y\).  In
particular, \(X \subset Y\).

Given a function of sets \(p : E \to X\), a \firstterm{section} of
\(p\) on a subset \(Y\) of \(X\) is a function \(s : Y \to E\) such
that \(p(s(x)) = x\) for all \(x \in Y\).  The set of all sections of
\(p\) on \(Y\) is denoted below by the symbol \(\Gamma(Y, p)\).

\begin{theorem}[Definition by transfinite recursion]
  \label{thm:srxrngd8}
  Let \(X\) be a well-ordered set, and \(p : E \to X\) a function from
  a set \(E\) to \(X\).  Suppose that for every element \(x\) of
  \(X\), \(f_x\) is a function from \(\Gamma((-\infty, x), p)\) to
  \(p^{-1}(x)\).  Then there exists a unique section \(u\) of \(p\) on
  \(X\) such that \(u(x) = f_x(u \vert_{(-\infty, x)})\) for all
  \(x \in X\).
\end{theorem}

Call a section \(u\) of \(p\) on a segment \(Y\) of \(X\)
\emph{inductive} if \(u(x) = f_x(u \vert_{(-\infty, x)})\) for all
\(x \in Y\).  The set of points where two inductive sections \(u\) and
\(v\) of \(p\) on \(Y\) agree is an inductive subset of the
well-ordered set \(Y\), so transfinite induction (\Cref{thm:5vxgawq0})
implies that \(u = v\).  The restriction of an inductive section of
\(p\) on \(Y\) to a segment contained in \(Y\) is also inductive.

Let \(S\) be the set of segments \(Y\) of \(X\) such that there is an
inductive section of \(p\) on \(Y\).  We will show that \(S\)
satisfies the conditions of \Cref{thm:y3go6w2h}.

Suppose \(a \in X\) and \(Y = (-\infty, a)\) belongs to \(S\).  Let
\(u\) be an inductive section of \(p\) on \(Y\).  Define a section
\(v\) of \(p\) on \(Z = (-\infty, a]\) as follows:
\begin{displaymath}
  v(x) =
  \begin{cases}
    u(x) & \text{if} ~ x \in Y \\
    f_a(u) & \text{if} ~ x = a.
  \end{cases}
\end{displaymath}
As \(v\) extends \(u\),
\begin{displaymath}
  v(x) = u(x) = f_x(u \vert_{(-\infty, x)}) =
  f_x(v \vert_{(-\infty, x)})
\end{displaymath}
for all \(x \in Y\), and
\begin{displaymath}
  v(a) = f_a(u) = f_a(v \vert_{(-\infty, a)}).
\end{displaymath}
Therefore, \(v\) is inductive, and \(Z \in S\).

Suppose, on the other hand, that \(Y\) is the union of a family
\((Y_i)_{i \in I}\) of elements of \(S\).  On each \(Y_i\), there is
an inductive section \(u_i\) of \(p\).  For all \(i, j \in I\), the
restriction \(u_{ij}\) of \(u_i\) to the segment
\(Y_{ij} = Y_i \cap Y_j\) is inductive.; as the restriction \(u_{ji}\)
of \(u_j\) to \(Y_{ij}\) is also inductive, the uniqueness statement
above implies that \(u_{ij} = u_{ji}\).  There is, therefore, a unique
function \(u : Y \to E\) which restricts to \(u_i\) on each \(Y_i\).
It is obviously an inductive section of \(p\), hence \(Y \in S\).

\Cref{thm:y3go6w2h} implies that every segment of \(X\) belongs to
\(S\).  In particular, \(X \in S\).

\begin{theorem}[Definition by transfinite recursion]
  \label{thm:5kg5ewo1}
  Let \(X\) be a well-ordered set, and \(T\) any set.  Suppose that
  for every element \(x\) of \(X\), \(f_x\) is a function from
  \(T^{(-\infty, x)}\) to \(T\).  Then there exists a unique function
  \(u : X \to T\) such that \(u(x) = f_x(u \vert_{(-\infty, x)})\) for
  all \(x \in X\).
\end{theorem}

Any fibre of the first projection \(p : X \times T \to X\) is
canonically identified with \(T\), and a section of \(p\) on a subset
\(Y\) of \(X\) is canonically identified with a function from \(Y\) to
\(T\).  Therefore, the present statement follows from
\Cref{thm:srxrngd8}.

\begin{theorem}
  \label{thm:hw1jxum0}
  If \(f\) is a strictly increasing function from a well-ordered set
  \(X\) to itself, then \(x \leq f(x)\) for all \(x \in X\).
\end{theorem}

If the set \(M\) of \(x \in X\) such that \(x > f(x)\) is non-empty,
it has a minimum \(a\).  Let \(b = f(a)\).  As \(a \in M\), \(a > b\);
as \(f\) is strictly increasing, \(f(a) > f(b)\), that is,
\(b > f(b)\).  Thus, \(b \in M\) and \(b < a\), a contradiction.

\begin{theorem}
  \label{thm:yvftewxp}
  The identity function is the only automorphism of any well-ordered
  set.
\end{theorem}

Let \(f\) be an automorphism of a well-ordered set \(X\), and \(g\)
its inverse.  Being increasing bijections, they are strictly
increasing.  \Cref{thm:hw1jxum0} implies that for any \(x \in X\),
\(x \leq f(x)\) and \(x \leq g(x)\); putting \(f(x)\) in the place of
\(x\) in the second of these inequalities gives
\(f(x) \leq g(f(x)) = x\); by anti-symmetry, \(f(x) = x\).

\begin{theorem}
  \label{thm:uvocd4lt}
  There is at most one isomorphism from a well-ordered set to another.
\end{theorem}

If \(f\) and \(g\) are two isomorphisms from a well-ordered set \(X\)
to another well-ordered set \(Y\), then \(g \circ f^{-1}\) is an
automorphism of \(X\).  It must be the identity map of \(X\) by
\Cref{thm:yvftewxp}, so \(f = g\).

\begin{theorem}
  \label{thm:q14zcdkw}
  If \(f\) is an isomorphism from a well-ordered set \(X\) onto a
  segment \(Y\) of \(X\), then \(Y = X\) and \(f\) is the identity
  function of \(X\).
\end{theorem}

Let \(f' : X \to X\) be the composite of \(f\) and the inclusion map
from \(Y\) to \(X\).  It is increasing and injective, hence strictly
increasing.  \Cref{thm:hw1jxum0} implies that for any \(x \in X\),
\(x \leq f'(x) = f(x)\); as \(Y = f(X)\) is a segment of \(X\),
\(x \in Y\).  Therefore, \(Y = X\).  It follows from
\Cref{thm:yvftewxp} that \(f\) is the identity map of \(X\).

\begin{theorem}
  \label{thm:7z7bwher}
  Let \(X\) and \(Y\) be well-ordered sets, and suppose that \(f\) is
  an isomorphism from \(X\) onto a segment \(Y'\) of \(Y\), and \(g\)
  is an isomorphism from \(Y\) onto a segment \(X'\) of \(X\).  Then
  \(X' = X\), \(Y' = Y\), and \(g = f^{-1}\).
\end{theorem}

The composite \(g \circ f\) is an isomorphism from \(X\) onto the
segment \(X'\) of \(X\).  By \Cref{thm:q14zcdkw}, \(X' = X\) and
\(g \circ f\) is the identity function of \(X\).  Similarly,
\(Y' = Y\) and \(f \circ g\) is the identity function of \(Y\).

\begin{theorem}
  \label{thm:vy95iuyi}
  For any two well-ordered sets \(X\) and \(Y\), either \(X\) is
  isomorphic to a segment of \(Y\), or \(Y\) is isomorphic to a
  segment of \(X\).
\end{theorem}

Let \(X_0\) be the set of elements \(x\) of \(X\) for which there
exists an element \(y\) of \(Y\) such that the interval
\((-\infty, x)\) of \(X\) is isomorphic to the interval
\((-\infty, y)\) of \(Y\).  If \(y, y' \in Y\) and \((-\infty, y)\) is
isomorphic to \((-\infty, y'\), then \(y = y'\); for if, for instance,
\(y < y'\), then \((-\infty, y')\) is isomorphic to its segment
\((-\infty, y)\), so by \Cref{thm:q14zcdkw},
\((-\infty, y) = (-\infty, y')\), a contradiction.  Thus, for every
\(x \in X_0\), there is a unique element \(y\) of \(Y\) such that
\((-\infty, x)\) is isomorphic to \((-\infty, y)\).  We thus have a
function \(f : X_0 \to Y\) such that \((-\infty, x)\) is isomorphic to
\((-\infty, f(x))\).  Its image \(Y_0\) consists of the points
\(y \in Y\) for which there is an \(x \in X\) such that
\((-\infty, x)\) is isomorphic to \((-\infty, y)\).  Let
\(g : X_0 \to Y_0\) be the function induced by \(f\).

Suppose \(x \in X_0\) and \(x' < x\).  Let \(u\) be an isomorphism
from \((-\infty, x)\) onto \((-\infty, g(x))\).  Then \(u\) and
\(u^{-1}\) are strictly increasing, so \(u((-\infty, x'))\) equals
\((-\infty, u(x'))\).  Thus, \(u\) restricts to an isomorphism from
\((-\infty, x')\) onto \((-\infty, u(x'))\).  This means that
\(x' \in X_0\) and \(g(x') = u(x') < g(x)\).  Therefore, \(X_0\) is a
segment of \(X\), and \(g\) is strictly increasing.  As \(g\) is
surjective as well and \(X_0\) is totally ordered, \(g\) is an
isomorphism.  In particular, \(Y_0\) is a segment of \(Y\).  Thus,
\(g\) is an isomorphism from the segment \(X_0\) of \(X\) onto the
segment \(Y_0\) of \(Y\).

It therefore suffices to prove that either \(X_0 = X\) or \(Y_0 = Y\).
If \(X_0 \neq X\) and \(Y_0 \neq Y\), \Cref{thm:htdzbbwv} implies that
\(X_0 = (-\infty, a)\) and \(Y_0 = (-\infty, b)\) for some \(a \in X\)
and \(b \in Y\).  This means that \(g\) is an isomorphism from
\((-\infty, a)\) onto \((-\infty, b)\).  Therefore,
\(a \in X_0 = (-\infty, a)\), a contradiction.

\begin{theorem}
  \label{thm:xhbclgwz}
  Every subset of a well-ordered set \(X\) is isomorphic to a segment
  of \(X\).
\end{theorem}

Suppose \(Y\) is a subset of \(X\) that is not isomorphic to any
segment of \(X\).  By \Cref{thm:vy95iuyi}, there is an isomorphism
\(f\) from \(X\) onto a proper segment \(Y'\) of \(Y\).
\Cref{thm:htdzbbwv} gives an element \(b\) of \(Y\) such that
\begin{displaymath}
  Y' = \{ y \in Y \,\vert\, y < b \}.
\end{displaymath}
Let \(g : X \to X\) denote the composite of \(f\) and the inclusion
from \(Y'\) to \(X\).  It is strictly increasing, so
\Cref{thm:hw1jxum0} implies that \(b \leq g(b)\), a contradiction
because \(g(b) \in Y'\).

Suppose \((X_i)_{i \in I}\) is a family of ordered sets indexed by a
well-ordered set \(I\).  Define a relation \(<\) on the product set
\(X = \prod_{i \in I} X_i\) by setting \(x < y\) if \(x \neq y\) and
\(x_j < y_j\), where \(x = (x_i)\), \(y = (y_i)\), and \(j\) is the
minimum of the set of all \(i \in I\) satisfying \(x_i \neq y_i\).
The reflexive closure of \(<\) is an order on \(X\), which is called
the \firstterm{lexicographic} order.  It is a total order if every
\(X_i\) is totally ordered.

\subsection{Exercises}
\label{sec:q1c2w2jy}

\begin{exercise}
  \label{exe:eydusvz3}
  Show that taking the irreflexive kernel is a bijection from the set
  of orders on any set \(X\) onto the set of all irreflexive and
  transitive relations on \(X\).
\end{exercise}

\begin{exercise}
  \label{exe:swjbrepg}
  Verify that a maximal element of a directed set is its maximum, and
  a minimal element of a codirected set is its minimum.
\end{exercise}

\begin{exercise}
  \label{exe:yowl3axc}
  Show that a product of lattices is a lattice.
\end{exercise}

\begin{exercise}
  \label{exe:4knqif5b}
  Prove that an order is total if and only if it has the trichotomy
  property.
\end{exercise}

\begin{exercise}
  \label{exe:v1tw1ijd}
  Show that every strictly increasing surjection from a totally
  ordered set \(X\) onto any ordered set \(Y\) is an isomorphism, and
  that any increasing bijection from \(X\) onto \(Y\) is an
  isomorphism.
\end{exercise}

\begin{exercise}
  \label{exe:gsdhavsp}
  Let \(X, Y\) be two well-ordered sets, and \(f, g\) two increasing
  functions from \(X\) to \(Y\) such that \(f(X)\) is a segment of
  \(Y\) and \(g\) is strictly increasing.  Show that
  \(f(x) \leq g(x)\) for all \(x \in X\).
\end{exercise}

\begin{exercise}
  \label{exe:rpm18mof}
  This exercise is about a simple topology on an ordered set.
  \begin{enumerate}
  \item \label{item:xzh0qsyg} Check that the union and the
    intersection of a family of segments of an ordered set \(X\) are
    segments, as are the empty set and \(X\).  Thus, the segments of
    \(X\) form a topology on \(X\) in which any intersection of open
    sets is open.
  \item \label{item:ef4d89pd} Suppose \(X\) is a well-ordered set, and
    let \(Y\) be any ordered set.  For any segment \(U\) of \(X\), let
    \(F(U)\) be the set of strictly increasing functions from \(U\) to
    \(Y\).  Show that this defines a subsheaf \(F\) of the sheaf of
    \(Y\)-valued functions on the topological space \(X\) defined in
    (\ref{item:xzh0qsyg}).
  \item With \(X\) and \(Y\) as in (\ref{item:ef4d89pd}), for any
    segment \(U\) of \(X\), let \(F(U)\) be the set of functions
    \(f : U \to Y\) such that the subset \(f(U)\) of \(Y\) is totally
    ordered.  Verify that this also defines a subsheaf \(F\) of the
    sheaf of \(Y\)-valued functions on \(X\).
  \end{enumerate}
\end{exercise}

\begin{exercise}
  \label{exe:oh59gz4i}
  Prove the following reformulation of transfinite recursion
  (\Cref{thm:srxrngd8}).  Let \(X\) be a well-ordered set, and
  \((E_x)_{x \in X}\) a family of sets indexed by \(X\).  Suppose that
  for every \(x \in X\), \(f_x\) is a function from the product set
  \(\prod_{y \in (-\infty, x)} E_y\) to \(E_x\).  Then there is a
  unique element \(e\) of \(\prod_{x \in X} E_x\) such that
  \(e_x = f_x((e_y)_{y \in (-\infty, x)})\) for all \(x \in X\).
\end{exercise}

\begin{exercise}
  \label{exe:eghnwow2}
  Here is a proof of \Cref{thm:vy95iuyi} using transfinite recursion.
  Suppose \(X\) and \(Y\) are well-ordered sets such that \(Y\) is not
  isomorphic to any segment of \(X\).  Use \Cref{thm:5kg5ewo1} to
  get a function \(u : X \to Y\) such that \(u(x)\) is the minimum of
  \(Y \setminus u((-\infty, x))\) for all \(x \in X\).  Prove that
  \(u\) is an isomorphism from \(X\) onto a segment of \(Y\).
\end{exercise}

\begin{exercise}
  \label{exe:vgms7ihx}
  Here is another proof, from \textcite[\S2.5,
  Theorem~3]{bib:lmhdqwpw}, of \Cref{thm:vy95iuyi}, which uses Zorn's
  lemma.  Let \(X\) and \(Y\) be well-ordered sets.  Consider the set
  \(P\) of all pairs \((A,f)\) consisting of a segment \(A\) of \(X\)
  and a function \(f : A \to Y\) which is an isomorphism onto a
  segment of \(Y\).  Define an order on \(P\) by setting
  \((A,f) \leq (A',f')\) if \(A \subset A'\) and \(f = f' \vert_A\).
  Apply Zorn's lemma to \(P\) to show that either \(X\) is isomorphic
  to a segment of \(Y\), or \(Y\) is isomorphic to a segment of \(X\).
\end{exercise}

\begin{exercise}
  \label{exe:9d868h6m}
  This exercise gives a proof of Zorn's lemma using Zermelo's theorem
  and transfinite recursion \parencite[Chapter~II,
  Theorem~9.4]{bib:h8xsxpp7}.  Let X be an ordered set in which every
  totally ordered subset is bounded above.
  \begin{enumerate}
  \item Show that if \(M\) is a maximal totally ordered subset of
    \(X\), that is, a totally ordered subset of \(X\) which is not
    properly contained in another totally ordered subset of \(X\),
    then any upper bound of \(M\) is a maximal element of \(X\).
  \item Zermelo's theorem gives a well-ordered set \(\Lambda\) and a
    bijection \(h\) from the set \(\Lambda\) to the set \(X\).  Use
    transfinite recursion (\Cref{thm:5kg5ewo1}) to get a family
    \((M_\lambda)_{\lambda \in \Lambda}\) of totally ordered subsets
    of \(X\) such that, for any \(\lambda \in \Lambda\), \(M_\lambda\)
    equals \((\cup_{\mu < \lambda} M_\mu) \cup \{ h(\lambda) \}\) if
    this set is a totally ordered subset of \(X\), and is empty
    otherwise.  Prove that the union of the \(M_\lambda\) is a maximal
    totally ordered subset of \(X\).
  \end{enumerate}
\end{exercise}

\begin{exercise}
  \label{exe:5qa65h5w}
  Here is another proof of Zorn's lemma using Zermelo's theorem and
  transfinite recursion \parencite[Part~II, Chapter~14,
  Solution~1]{bib:uw2wsr3k}.  Let X be an ordered set in which every
  well-ordered subset is bounded above.  Zermelo's theorem gives a
  well-ordered set \(\Lambda\) and a bijection from the set
  \(\Lambda\) to the set \(X\).  Use transfinite recursion to define a
  subset \(M\) of \(X\) such that any element \(x\) of \(X\) belongs
  to \(M\) if and only if \(y < x\) for all \(y \in M\) such that
  \(h^{-1}(y) < h^{-1}(x)\).  Prove that \(M\) is totally ordered, and
  that any upper bound of \(M\) is a maximal element of \(X\).
\end{exercise}

\begin{exercise}
  \label{exe:x9ewqbv6}
  Prove the following generalisation of transfinite recursion
  (\Cref{thm:srxrngd8}).  Let \(X\) be a well-ordered set.  Make the
  set \(X\) a topological space by giving it the topology whose open
  sets are the segments of \(X\) (\Cref{exe:rpm18mof}).  Let \(F\) be
  a sheaf of sets on \(X\).  Suppose that for every point \(x \in X\),
  \(f_x\) is a function from \(F((-\infty, x))\) to
  \(F((-\infty, x])\) which is a section of the restriction map:
  \(f_x(s) \vert_{(-\infty, x)} = s\) for all
  \(s \in F((-\infty, x))\).  Show that there exists a unique element
  \(u \in F(X)\) such that
  \(u \vert_{(-\infty, x]} = f_x(u \vert_{(-\infty, x)})\) for all
  \(x \in X\).
\end{exercise}

\begin{exercise}
  \label{exe:k8tmok20}
  A final proof of Zorn's lemma using Zermelo's theorem and
  transfinite recursion, this time from \textcite[Chapter~XVI, \S4,
  Theorem~1]{bib:embpmrus}.  Let \(X\) be an ordered set in which
  every well-ordered subset is bounded above.  Suppose that \(X\) has
  no maximal element.  Arrive at a contradiction as follows.
  \begin{enumerate}
  \item Verify that every well-ordered subset \(A\) of \(X\) has a
    strict upper bound, that is, an element \(b \in X\) such that
    \(a < b\) for all \(a \in A\).
  \item Zermelo's theorem gives a well-ordered set \(\Lambda\) and a
    bijection \(h\) from the set \(\Lambda\) onto the set \(X\).  Use
    transfinite recursion (\Cref{exe:x9ewqbv6}) to get a strictly
    increasing function \(u\) from \(\Lambda\) to \(X\) with the the
    property that \(h^{-1}(u(\lambda)) \leq h^{-1}(b)\) for all
    \(\lambda \in \Lambda\) and for every strict upper bound \(b\) of
    \(u((-\infty, \lambda))\) in \(X\).
  \item Verify that \(h^{-1} \circ u\) is a strictly increasing
    function from \(\Lambda\) to \(\Lambda\).
  \item Show that \(u(\Lambda)\) is a well-ordered subset of \(X\)
    which does not have a strict upper bound.
  \end{enumerate}
\end{exercise}

\subsection{Solutions}
\label{sec:fzhm4l61}

\begin{solution}[\ref{exe:eydusvz3}]
  \label{sol:bxkmo56h}
  The irreflexive kernel \(<\) of an order \(\leq\) on \(X\) is
  obviously irreflexive; if \(x,y,z \in X\), and \(x < y\) and
  \(y < z\), the transitivity of \(\leq\) implies that \(x \leq z\),
  and because \(x \neq y\) the anti-symmetry of \(\leq\) implies that
  \(x \neq z\), so \(<\) is transitive.  Conversely, if \(<\) is an
  irreflexive and transitive relation on \(X\), its reflexive closure
  \(\leq\) is obviously reflexive; if \(x \leq y\) and \(y \leq z\),
  either of the equalities \(x = y\) and \(y = z\) implies that
  \(x \leq z\), so \(\leq\) is transitive; lastly, if \(x \leq y\) and
  \(y \leq x\), the transitivity of \(\leq\) and the irreflexivity of
  \(<\) imply that \(x = y\); thus, \(\leq\) is an order.  It is
  obvious that the maps \(\leq \mapsto <\) and \(< \mapsto \leq\) are
  inverses of each other.
\end{solution}

\begin{solution}[\ref{exe:swjbrepg}]
  \label{sol:pcqde5hb}
  If \(a\) is a maximal element of a directed set \(X\), then for any
  \(x \in X\), the set \(\{ a, x \}\) has an upper bound \(y\).  As
  \(a\) is maximal, the relation \(a \leq y\) implies that \(a = y\);
  and as \(x \leq y\), it follows that \(x \leq a\).  Thus, \(a\) is a
  maximum of \(X\).  The second statement of the exercise follows from
  the first because the opposite of a directed order is codirected.
\end{solution}

\begin{solution}[\ref{exe:yowl3axc}]
  \label{sol:rfwhck5v}
  Let \(X\) be the product of a family \((X_i)_{i \in I}\) of
  lattices.  Suppose \(x = (x_i)\) and \(y = (y_i)\) are two elements
  of \(X\).  As each \(X_i\) is a lattice, the set
  \(Y_i = \{ x_i, y_i \}\) has a supremum \(a_i\) and an infimum
  \(b_i\) in \(X_i\).  It is obvious that the element \(a = (a_i)\) of
  \(X\) is an upper bound of the set \(Y = \{ x, y \}\); if
  \(z = (z_i)\) is any upper bound of \(Y\), then \(z_i\) is an upper
  bound of \(Y_i\), hence \(a_i \leq z_i\) for all \(i\); thus,
  \(a \leq z\); it follows that \(a\) is the supremum of \(Y\).
  Similarly, \((b_i)\) is the infimum of \(Y\).
\end{solution}

\begin{solution}[\ref{exe:4knqif5b}]
  \label{sol:ien6orgc}
  An order with the trichotomy property is obviously total.
  Conversely, if an order \(\leq\) on on a set \(X\) is total, and if
  \(x,y \in X\) are such that \(x \nless y\) and \(x \neq y\), then
  \(x \nleq y\), hence \(x \geq y\); as \(x \neq y\), \(x > y\); thus,
  at least one of the three alternatives \(x < y\), \(x = y\),
  \(x > y\) is valid; it is obvious that \(x = y\) rules out the other
  two alternatives; if \(x < y\), then \(x \neq y\), and by
  anti-symmetry \(x \ngtr y\); similarly, if \(x > y\), then
  \(x \neq y\) and \(x \nless y\); thus, \(\leq\) has the trichotomy
  property.
\end{solution}

\begin{solution}[\ref{exe:v1tw1ijd}]
  \label{sol:rd6deawb}
  If \(f : X \to Y\) is a strictly increasing surjection, and if
  \(x, x' \in X\) and \(f(x) = f(x')\), then \(x \nless x'\) and
  \(x \ngtr x'\); so the trichotomy of the order on \(X\) implies that
  \(x = x'\); thus, \(f\) is injective, and hence a bijection; if
  \(y, y' \in Y\) and \(y \leq y'\), then the anti-symmetry of the
  order on \(Y\), and the strictly increasing property of \(f\) imply
  that \(f^{-1}(y) \ngtr f^{-1}(y')\); therefore, again by trichotomy,
  \(f^{-1}(y) \leq f^{-1}(y')\); thus, \(f\) is an isomorphism.  An
  increasing bijection from \(X\) to \(Y\) is strictly increasing
  because it is injective, so it is an isomorphism by the first
  statement.
\end{solution}

\begin{solution}[\ref{exe:gsdhavsp}]
  \label{sol:ja6mjzt3}
  If the set \(M\) of \(x \in X\) such that \(f(x) > g(x)\) is
  non-empty, it has a minimum \(a\).  The segment \(f(X)\) of \(Y\)
  contains \(f(a)\), hence it contains the interval
  \((-\infty, f(a)]\).  Therefore, the element \(g(a)\) of this
  interval belongs to \(f(X)\): \(g(a) = f(z)\) for some \(z \in X\).
  As \(f\) is increasing and \(f(z) < f(a)\), trichotomy gives
  \(z < a\), so \(z \notin M\): \(f(z) \leq g(z)\).  The hypothesis
  that \(g\) is strictly increasing and the relation \(z < a\) imply
  that \(g(z) < g(a)\).  It follows that \(f(z) < g(a)\), a
  contradiction because \(f(z) = g(a)\).
\end{solution}

\begin{solution}[\ref{exe:rpm18mof}]
  \label{sol:aeu4zzog}
  If \(U\) is either the empty set or \(X\), it is a segment because
  it satisfies the condition that \((-\infty, a] \subset U\) for every
  \(a \in U\) vacuously in the first case and by the definition of
  containment in the second case.  If \((U_i)_{i \in I}\) is a family
  of segments of \(X\), and \(y\) an element of their union \(U\),
  then there is an \(i \in I\) such that \(y \in U_i\); as \(U_i\) is
  a segment, it contains \((-\infty, y]\), hence so does its superset
  \(U\).  Similarly, if \(y\) belongs to the intersection \(V\) of the
  \(U_i\), then for every \(i\), the segment \(U_i\) contains \(y\),
  hence it contains \((-\infty, y]\); it follows that \(V\) contains
  \((-\infty, y]\).

  Suppose \(X\) is a well-ordered set, and let \(Y\) be any ordered
  set.  For any segment \(U\) of \(X\), let \(F(U)\) be the set of
  strictly increasing functions from \(U\) to \(Y\).  Let
  \((U_i)_{i \in I}\) be a family of segments of \(X\), \(U\) their
  union, and \(f : U \to Y\) any function.  If \(f \in F(U)\), then it
  is obvious that its restriction to any subset of \(U\) is also
  strictly increasing, so \(f \vert_{U_i} \in F(U_i)\) for all \(i\).
  Conversely, if \(f \vert_{U_i} \in F(U_i)\) for every \(i\), and if
  \(x, x' \in U\) are such that \(x < x'\), then there is an index
  \(i \in I\) such that \(x' \in U_i\); as \(U_i\) is a segment,
  \(x \in U_i\), and as \(f \vert_{U_i}\) is strictly increasing,
  \(f(x) < f(x')\); therefore, \(f \in F(U)\).  It follows that \(F\)
  is a subsheaf of the sheaf of \(Y\)-valued functions on the
  topological space \(X\).

  Now suppose that \(X\) and \(Y\) are as above, and let \(F(U)\) be
  the set of all functions \(f : U \to Y\) such that \(f(U)\) is a
  totally ordered subset of \(Y\).  Let \((U_i)_{i \in I}\) be a
  family of segments of \(X\), \(U\) their union, and \(f : U \to Y\)
  any function.  If \(f \in F(U)\), then for every \(i\), \(f(U_i)\)
  is a subset of the totally ordered subset \(f(U)\) of \(Y\), so
  \(f(U_i)\) is also totally ordered, and
  \(f \vert_{U_i} \in F(U_i)\).  Conversely, if
  \(f \vert_{U_i} \in F(U_i)\) for all \(i\), and if
  \(y, y' \in F(U)\), then there are \(x,x' \in U\) such that
  \(f(x) = y\) and \(f(x') = y'\); as \(X\) is totally ordered, we can
  assume that \(x \leq x'\); let \(i \in I\) be such that
  \(x' \in U_i\); as \(U_i\) is a segment, \(x \in U_i\), so
  \(y, y' \in F(U_i)\); as \(F(U_i)\) is totally ordered, either
  \(y \leq y'\) or \(y' \leq y\); therefore, \(f(U)\) is totally
  ordered, and \(f \in F(U)\).  It follows that \(F\) is a subsheaf of
  the sheaf of \(Y\)-valued functions on \(X\).
\end{solution}

\begin{solution}[\ref{exe:oh59gz4i}]
  \label{sol:h64ep1j0}
  Let \(E\) denote the disjoint union of the \(E_x\), and identify
  each \(E_x\) with its canonical image in \(E\), so the \(E_x\) form
  a partition of \(E\); let \(p : E \to X\) be the function which maps
  any element of \(E_x\) to \(x\).  For any subset \(Y\) of X, there
  is a canonical identification of \(\prod_{x \in Y} E_x\) with
  \(\Gamma(Y,p)\), and for any \(x \in X\), \(p^{-1}(x) = E_x\).
  Therefore, the statement in the exercise follows from
  \Cref{thm:srxrngd8}.  Conversely, given this statement we can
  recover that theorem by putting \(E_x = p^{-1}(x)\) for all
  \(x \in X\); \(E\) is then canonically identified with the disjoint
  union of the \(E_x\).  Therefore, the statement in the exercise is a
  reformulation of the theorem.
\end{solution}

\begin{solution}[\ref{exe:eghnwow2}]
  \label{sol:eiv4acyz}
  If \(Y\) were empty, it would be isomorphic to the segment
  \(\emptyset\) of \(X\), contrary to the assumption that \(Y\) is not
  isomorphic to any segment of \(X\); so \(Y \neq \emptyset\).  Fix an
  arbitrary element \(y_0\) of \(Y\), for instance, its minimum.  For
  every element \(x\) of \(X\), define a function
  \(f_x : Y^{(-\infty, x)} \to Y\) by setting
  \begin{displaymath}
    f_x(s) =
    \begin{cases}
      \min \, (Y \setminus s((-\infty, x))) & \text{if} ~ s ~ \text{is
                                              not surjective} \\
      y_0 & \text{if} ~ s ~ \text{is surjective}
    \end{cases}
  \end{displaymath}
  for every function \(s : (-\infty, x) \to Y\).  \Cref{thm:5kg5ewo1}
  gives a unique function \(u : X \to Y\) such that
  \(u(x) = f_x(u \vert_{(-\infty, x)})\) for all \(x \in X\).

  Let \(S\) be the set of segments \(X'\) of \(X\) such that \(u\)
  maps \(X'\) isomorphically onto some segment of \(Y\).  The
  hypothesis that \(Y\) is not isomorphic to any segment of \(X\)
  implies that \(u(X') \neq Y\) for all \(X' \in S\).  We will verify
  that \(S\) satisfies the two conditions of \Cref{thm:y3go6w2h}.

  Suppose \(x \in X\) and \((-\infty, x) \in S\).  As
  \(u((-\infty, x))\) is a proper segment of \(Y\),
  \begin{equation}
    \label{eq:81bkcp3j}
    u(x) = f_x(u \vert_{(-\infty, x)}) =
    \min \, (Y \setminus u((-\infty, x))),
  \end{equation}
  and by \Cref{thm:htdzbbwv}, \(u((-\infty, x)) = (-\infty, u(x))\).
  Therefore,
  \begin{displaymath}
    u((-\infty, x]) = (-\infty, u(x)].
  \end{displaymath}
  If \(x' < x\), then \(u(x')\) belongs to
  \(u((-\infty, x)) = (-\infty, u(x))\), hence \(u(x') < u(x)\); as
  \(u\) is an isomorphism on \((-\infty, x)\), it follows that it is
  strictly increasing on \((-\infty, x]\).  Thus, \(u\) maps
  \((-\infty, x]\) isomorphically onto the segment \((-\infty, u(x)]\)
  of \(Y\), hence \((-\infty, x] \in S\).

  Suppose \((X_i)_{i \in I}\) is a family of elements of \(S\), and
  let \(X'\) denote their union.  Then \(u(X')\) is the union of the
  segments \(u(X_i)\), and is hence a segment.  If \(x,x'\) are
  elements of \(X'\) such that \(x < x'\), then there is an index
  \(i\) such that \(x' \in X_i\); as \(X_i\) is a segment,
  \(x \in X_i\), so as \(u\) is an isomorphism on \(X_i\),
  \(u(x) < u(x')\); thus, \(u\) is strictly increasing on \(X'\).
  Therefore, \(u\) maps \(X'\) isomorphically onto the segment
  \(u(X')\) of \(Y\), and \(X' \in S\).

  By \Cref{thm:y3go6w2h}, every segment of \(X\) belongs to \(S\).
  Therefore, for any \(x \in X\), the segment \((-\infty, x)\) belongs
  to \(S\), so \cref{eq:81bkcp3j} implies that \(u(x)\) is the minimum
  of \(Y \setminus u((-\infty, x))\).  Also, \(X \in S\), hence \(u\)
  induces an isomorphism from \(X\) onto a segment of \(Y\).
\end{solution}

\begin{solution}[\ref{exe:vgms7ihx}]
  \label{sol:cjc2vy2q}
  Suppose \(Q\) is a totally ordered subset of \(P\).  The union \(U\)
  of the sets \(A\) as \((A,f)\) runs over \(Q\) is a segment of \(X\)
  because each \(A\) is a segment.  As \(Q\) is totally ordered, there
  is a unique function \(u : U \to Y\) such that \(u \vert_A = f\) for
  all \((A,f) \in Q\).  The subset \(u(U)\) of \(Y\) is the union of
  the segments \(u(A)\) as \((A,f)\) runs over \(Q\), and is hence a
  segment.  If \(x,x'\) are elements of \(U\) such that \(x < x'\),
  then there is an element \((A,f)\) of \(Q\) such that \(x' \in A\);
  as \(A\) is a segment, \(x \in A\), so as \(f\) is an isomorphism on
  \(A\), \(f(x) < f(x')\); thus, \(u\) is strictly increasing on
  \(U\).  Therefore, \(u\) maps \(U\) isomorphically onto the segment
  \(u(U)\) of \(Y\), hence \((U,u) \in P\).  It is obvious that
  \((U,u)\) is an upper bound of \(Q\).  Thus, every totally ordered
  subset of \(P\) is bounded above.  By Zorn's lemma, \(P\) has a
  maximal element \((M, g)\).

  It suffices to show that either \(M = X\) or \(g(M) = X\).  Suppose
  that neither of these equalities is true.  \Cref{thm:htdzbbwv} then
  gives \(a \in X\) and \(b \in Y\) such that \(M = (-\infty, a)\) and
  \(g(M) = (-\infty, b)\).  Define a function
  \(h : (-\infty, a] \to Y\) by setting
  \begin{displaymath}
    h(x) =
    \begin{cases}
      g(x) & \text{if} ~ x < a \\
      b & \text{if} ~ x = b.
    \end{cases}
  \end{displaymath}
  It is strictly increasing, and its image equals \((-\infty, b]\).
  Therefore, the pair \(((-\infty, a], h)\) belongs to \(P\).  It is
  \(>\) than the maximal element \((M, g)\) of \(P\), a contradiction.
\end{solution}

\begin{solution}[\ref{exe:9d868h6m}]
  \label{sol:yfgula0x}
  If \(a\) is an upper bound of a maximal totally ordered subset \(M\)
  of \(X\), then the set \(M \cup \{ a \}\) is totally ordered because
  \(x \leq a\) for all \(x \in M\); the maximality of \(M\) implies
  that \(a \in M\); thus, \(a\) is the maximum of \(M\), and is also
  the unique upper bound of \(M\) in \(X\); if \(b \in X\) and
  \(a \leq b\), then \(b\) is an upper bound of \(M\), so \(b = a\);
  therefore, \(a\) is a maximal element of \(X\).

  Let \(T\) denote the set of all totally ordered subsets of \(X\).
  For any \(\lambda \in \Lambda\), define a function
  \(f_\lambda : T^{(-\infty, \lambda)} \to T\) by
  \begin{displaymath}
    f_\lambda(s) =
    \begin{cases}
      (\cup_{\mu < \lambda} s(\mu)) \cup \{ h(\lambda) \}
      & \text{if the subset} ~
        (\cup_{\mu < \lambda} s(\mu)) \cup \{ h(\lambda) \} \\
      & \text{of} ~ X ~ \text{is totally ordered} \\
      \emptyset
      & \text{otherwise}
    \end{cases}
  \end{displaymath}
  for every function \(s : (-\infty, \lambda) \to T\).  By
  \Cref{thm:5kg5ewo1}, there is a unique function
  \(u : \Lambda \to T\) such that
  \(u(\lambda) = f_\lambda(u \vert_{(-\infty, \lambda)})\) for all
  \(\lambda \in \Lambda\).  Denote \(u(\lambda)\) by \(M_\lambda\) for
  any \(\lambda \in \Lambda\), and let
  \(M = \cup_{\lambda \in \Lambda} M_\lambda\).  For any
  \(\lambda \in \Lambda\), \(M_\lambda\) equals
  \((\cup_{\mu < \lambda} M_\mu) \cup \{ h(\lambda) \}\) if this
  subset of \(X\) is totally ordered, and is empty otherwise; in
  particular, if \(M_\lambda\) is non-empty, it contains \(M_\mu\) for
  all \(\mu \leq \lambda\).

  If \(x, y \in M\), there are elements \(\lambda, \mu\) of
  \(\Lambda\) such that \(x \in M_\lambda\) and \(y \in M_\mu\); as
  \(\Lambda\) is totally ordered, we can assume that
  \(\mu \leq \lambda\); as \(M_\lambda\) contains \(x\), it is
  non-empty, and hence contains \(M_\nu\) for all
  \(\nu \leq \lambda\); in particular, \(M_\mu \subset M_\lambda\), so
  \(x, y \in M_\lambda\); as \(M_\lambda\) is totally ordered, either
  \(x \leq y\) or \(y \leq x\); it follows that \(M\) is a totally
  ordered subset of \(X\).  Suppose \(N\) is a totally ordered subset
  of \(X\) that contains \(M\); let \(x \in N\), and let
  \(\lambda = h^{-1}(x)\); then the set
  \((\cup_{\mu < \lambda} M_\mu) \cup \{ h(\lambda) \}\) is contained
  in \(N\), and is hence a totally ordered subset of \(X\); therefore,
  it equals \(M_\lambda\), hence \(x = h(\lambda) \in M_\lambda\); it
  follows that \(N = M\).  Thus, \(M\) is a maximal totally ordered
  subset of \(X\).
\end{solution}

\begin{solution}[\ref{exe:5qa65h5w}]
  \label{sol:s0vlfhkj}
  Let \(B\) denote the set consisting of the natural numbers \(0\) and
  \(1\).  For any \(\lambda \in \Lambda\), define a function
  \(f_\lambda : B^{(-\infty, \lambda)} \to B\) by setting
  \begin{displaymath}
    f_\lambda(s) =
    \begin{cases}
      1
      & \text{if} ~ h(\mu) < h(\lambda) ~ \text{for all}
        ~ \mu < \lambda ~ \text{such that} ~ s(\mu) = 1 \\
      0
      & \text{otherwise}
    \end{cases}
  \end{displaymath}
  for every function \(s : (-\infty, \lambda) \to B\).  By
  \Cref{thm:5kg5ewo1}, there is a unique function
  \(u : \Lambda \to B\) such that
  \(u(\lambda) = f_\lambda(u \vert_{(-\infty, \lambda)})\) for all
  \(\lambda \in \Lambda\).  Let \(M\) denote the set of elements of of
  \(X\) of the form \(h(\lambda)\) with \(\lambda \in \Lambda\) and
  \(u(\lambda) = 1\).  Thus, an element \(x\) of \(X\) belongs to
  \(M\) if and only if the element \(\lambda = h^{-1}(x)\) of
  \(\Lambda\) has the property that \(h(\mu) < h(\lambda)\) for all
  \(\mu < \lambda\) such that \(u(\mu) = 1\); equivalently,
  \(x \in M\) if and only if \(y < x\) for all \(y \in M\) such that
  \(h^{-1}(y) < h^{-1}(x)\).

  If \(\lambda,\mu \in h^{-1}(M)\) and \(\mu < \lambda\), then
  \(h(\lambda) \in M\) and \(u(\mu) = 1\), so \(h(\mu) < h(\lambda)\).
  Therefore, \(h\) induces a strictly increasing bijection from
  \(h^{-1}(M)\) onto \(M\).  Since \(h^{-1}(M)\) is totally ordered,
  \Cref{exe:v1tw1ijd} implies that \(h\) induces an isomorphism from
  \(h^{-1}(M)\) onto \(M\).  As \(h^{-1}(M)\) is a well-ordered subset
  of \(\Lambda\), it follows that \(M\) is a well-ordered subset of
  \(X\).  The hypothesis of the exercise implies that \(M\) is bounded
  above in \(X\).  If \(a\) is any upper bound of \(M\) in \(X\), and
  \(\lambda = h^{-1}(a)\), then for all
  \(\mu < \lambda\) such that \(u(\mu) = 1\), \(h(\mu) \in M\), so
  \(h(\mu) \leq a = h(\lambda)\); as \(\mu \neq \lambda\),
  \(h(\mu) \neq h(\lambda)\), so \(h(\mu) < h(\lambda)\); it follows
  that \(a = h(\lambda) \in M\); thus, \(a\) is the maximum of \(M\),
  and is also the unique upper bound of \(M\) in \(X\); if \(b \in X\)
  and \(a \leq b\), then \(b\) is an upper bound of \(M\) in \(X\), so
  \(b = a\); therefore, \(a\) is a maximal element of \(X\).
\end{solution}

\begin{solution}[\ref{exe:x9ewqbv6}]
  \label{sol:l1p9lj7v}
  For any segment \(Y\) of \(X\), let \(G(Y)\) be the set of sections
  \(u \in F(Y)\) with the property that
  \(u \vert_{(-\infty, x]} = f_x(u \vert_{(-\infty, x)})\) for all
  \(x \in Y\).  It is obvious that if \((Y_i)_{i \in I}\) is a family
  of segments of \(X\), \(Y\) their union, and \(u\) an element of
  \(F(Y)\), then \(u \in G(Y)\) if and only if
  \(u \vert_{Y_i} \in G(Y_i)\) for all \(i\); therefore, \(G\) is a
  subsheaf of \(F\).

  Suppose \(Y\) is a segment and \(u,v \in G(Y)\).  Then the set
  \(Y'\) of points \(x \in Y\) such that the germs \(u_x\) and \(v_x\)
  are equal is inductive: if \((-\infty, a) \subset Y'\) for some
  \(a \in Y\), then
  \(u \vert_{(-\infty, a)} = v \vert_{(-\infty, a)}\) because \(F\) is
  a sheaf; therefore,
  \begin{displaymath}
    u \vert_{(-\infty, a]} = f_x(u \vert_{(-\infty, a)}) =
    f_x(v \vert_{(-\infty, a)}) = v \vert_{(-\infty, a]};
  \end{displaymath}
  as \((-\infty, a]\) is an open neighbourhood of \(a\),
  \(u_a = v_a\), hence \(a \in Y'\).  Therefore, by transfinite
  induction (\Cref{thm:5vxgawq0}), \(Y' = Y\).  As \(F\) is a sheaf,
  it follows that \(u = v\).  Thus, \(G(Y)\) has at most one element
  for any segment \(Y\).

  Let \(S\) be the set of segments \(Y\) of \(X\) such that
  \(G(Y) \neq \emptyset\).  We will check that \(S\) satisfies the
  conditions of \Cref{thm:y3go6w2h}.

  Suppose \(a \in X\) and \(Y = (-\infty, a)\) belongs to \(S\).  Let
  \(u\) be the unique element of \(G(Y)\).  We then have the element
  \(v = f_a(u)\) of \(F(Z)\), where \(Z = (-\infty, a]\).  As
  \(v \vert_Y = u\),
  \begin{displaymath}
    v \vert_{(-\infty, x]} = u \vert_{(-\infty, x]} =
    f_x(u \vert_{(-\infty, x)}) = f_x(v \vert_{(-\infty, x)})
  \end{displaymath}
  for all \(x \in Y\), and
  \begin{displaymath}
    v \vert_{(-\infty, a]} = v = f_a(u) = f_a(v \vert_{(-\infty, a)}).
  \end{displaymath}
  Therefore, \(v \in G(Z)\), and \(Z \in S\).

  Suppose, on the other hand, that \(Y\) is the union of a family
  \((Y_i)_{i \in I}\) of elements of \(S\).  For each \(i\), let
  \(u_i\) be the unique element of \(G(Y_i)\).  For all \(i,j\), the
  the restrictions \(u_{ij}\) and \(u_{ji}\) of \(u_i\) and \(u_j\),
  respectively, to the segment \(Y_{ij} = Y_i \cap Y_j\) belong to
  \(G(Y_{ij})\); as \(G(Y_{ij})\) has at most one element,
  \(u_{ij} = u_{ji}\).  Since \(G\) is a sheaf, there is therefore a
  unique element \(u\) of \(G(Y)\) which restricts to \(u_i\) on each
  \(Y_i\).  It follows that \(Y \in S\).

  \Cref{thm:y3go6w2h} implies that every segment of \(X\) belongs to
  \(S\).  In particular, \(X \in S\).

  We can recover \Cref{thm:srxrngd8} from this exercise by taking
  \(F\) to be the sheaf of sections of the function \(p : E \to X\)
  that appears in the statement of that theorem.  Given a function
  \(f_x : \Gamma((-\infty, x)) \to p^{-1}(x)\) for every \(x \in X\),
  we get a function \(g_x\) from \(F((-\infty,x))\) to
  \(F((-\infty, x])\) for every \(x \in X\) by setting
  \begin{displaymath}
    g_x(s)(y) =
    \begin{cases}
      s(y) & \text{if} ~ y < x \\
      f_x(s) & \text{if} ~ y = x
    \end{cases}
  \end{displaymath}
  for all \(s \in F((-\infty, x))\) and \(y \leq x\).  It is obvious
  that \(g_x(s) \vert_{(-\infty, x)} = s\) for all
  \(s \in F((-\infty, x))\).  Therefore, there exists a unique element
  \(u \in F(X)\) such that
  \(u \vert_{(-\infty, x]} = g_x(u \vert_{(-\infty, x)})\) for all
  \(x \in X\).  It is the unique section \(s\) of \(p\) with the
  property that \(u(x) = f_x(u \vert_{(-\infty, x)})\) for all
  \(x \in X\).  So this exercise does generalise \Cref{thm:srxrngd8}.
\end{solution}

\begin{solution}[\ref{exe:k8tmok20}]
  \label{sol:zipx00sf}
  One of the hypotheses on \(X\) is that any well-ordered subset \(A\)
  of \(X\) has an upper bound \(z\); as \(X\) does not have a maximal
  element, there exists an element \(b\) of \(X\) such that \(z < b\);
  thus \(a \leq z < b\) for all \(a \in A\), so \(b\) is a strict
  upper bound of \(A\).

  For every well-ordered subset \(A\) of \(X\), the set \(A^*\) of
  strict upper bounds of \(A\) is a non-empty subset of \(X\), hence
  \(h^{-1}(A^*)\) is a non-empty subset of \(\Lambda\); as \(\Lambda\)
  is well-ordered, \(h^{-1}(A^*)\) has a minimum \(\varphi(A)\); thus,
  \(\varphi(A)\) is the unique element of \(\Lambda\) such that
  \(h(\varphi(A)) \in A^*\) and \(\varphi(A) \leq h^{-1}(b)\) for all
  \(b \in A^*\).  If \(A,B\) are well-ordered subsets of \(X\) such
  that \(A \subset B\), then \(B^* \subset A^*\), hence
  \(\varphi(A) \leq \varphi(B)\).

  Make the set \(\Lambda\) a topological space by giving it the
  topology whose open sets are the segments of \(\Lambda\)
  (\Cref{exe:rpm18mof}(\ref{item:xzh0qsyg})).  For every segment \(U\)
  of \(\Lambda\), let \(F(U)\) be the set of strictly increasing
  functions from \(U\) to \(X\).  By
  \Cref{exe:rpm18mof}(\ref{item:ef4d89pd}), \(F\) is a subsheaf of the
  sheaf of \(X\)-valued functions on \(\Lambda\).  For every
  \(\lambda \in \Lambda\) and \(s \in F((-\infty, \lambda))\), define
  a function \(f_\lambda(s) : (-\infty, \lambda] \to X\) by setting
  \begin{displaymath}
    f_\lambda(s)(\mu) =
    \begin{cases}
      s(\mu) & \text{if} ~ \mu < \lambda \\
      h(\varphi(s((-\infty, \lambda)))) & \text{if} ~ \mu = \lambda
    \end{cases}
  \end{displaymath}
  for all \(\mu \in (-\infty, \lambda]\); this definition makes sense
  because \(s\) is an isomorphism from the well-ordered set
  \((-\infty, \lambda)\) onto the ordered set
  \(s((-\infty, \lambda))\), so \(s((-\infty, \lambda))\) is a
  well-ordered subset of \(X\); as
  \begin{displaymath}
    h(\varphi(s((-\infty, \lambda)))) \in (s((-\infty, \lambda)))^*,
  \end{displaymath}
  \(f_\lambda(s)\) is strictly increasing; it is obvious that
  \(f_\lambda(s) \vert_{(-\infty, \lambda)} = s\); we thus get a
  function \(f_\lambda\) from \(F((-\infty, \lambda))\) to
  \(F((-\infty, \lambda])\) that satisfies the conditions of
  \Cref{exe:x9ewqbv6}.  There is therefore a unique element
  \(u \in F(\Lambda)\) such that
  \(u \vert_{(-\infty, \lambda]} = f_\lambda(u \vert_{(-\infty,
    \lambda)})\) for all \(\lambda \in \Lambda\).  By the definition
  of \(F\), \(u\) is a strictly increasing function from \(\Lambda\)
  to \(X\).  If \(\lambda \in \Lambda\) and \(b\) is a strict upper
  bound of \(u((-\infty, \lambda))\) in \(X\), then
  \(h^{-1}(u(\lambda)) = \varphi(u((-\infty, \lambda))) \leq
  h^{-1}(b)\).

  Suppose \(\lambda, \mu \in \Lambda\) and \(\mu < \lambda\).  Then
  \(u((-\infty, \mu))) \subset u((-\infty, \lambda))\), hence
  \begin{displaymath}
    h^{-1}(u(\mu)) = \varphi(u((-\infty, \mu))) \leq
    \varphi(u((-\infty, \lambda))) = h^{-1}(u(\lambda)).
  \end{displaymath}
  On the other hand, as \(u\) is strictly increasing,
  \(u(\mu) < u(\lambda)\), so
  \(h^{-1}(u(\mu)) \neq h^{-1}(u(\lambda))\).  Therefore,
  \(h^{-1}(u(\mu)) < h^{-1}(u(\lambda))\). Thus, \(h^{-1} \circ u\) is
  a strictly increasing function from \(\Lambda\) to \(\Lambda\).
  \Cref{thm:hw1jxum0} implies that \(\lambda \leq h^{-1}(u(\lambda))\)
  for all \(\lambda \in \Lambda\).

  Let \(M = u(\Lambda)\).  As \(u\) is an isomorphism from \(\Lambda\)
  onto \(M\), \(M\) is a well-ordered subset of \(X\).  Suppose \(M\)
  has a strict upper bound \(b\) in \(X\).  Let
  \(\lambda = h^{-1}(b)\).  Then \(b\) is a strict upper bound of
  \(u((-\infty, \lambda))\) also, hence
  \(h^{-1}(u(\lambda)) \leq h^{-1}(b) = \lambda\).  On the other hand,
  \(\lambda \leq h^{-1}(u(\lambda))\) by the conclusion of the
  previous paragraph.  It follows that
  \(h^{-1}(u(\lambda)) = \lambda\), that is,
  \(u(\lambda) = h(\lambda) = b\), which is a contradiction because
  \(u(\lambda) < b\).

  An alternative definition of \(u\), using \Cref{thm:5kg5ewo1}
  instead of \Cref{exe:x9ewqbv6}, is as follows.  As the well-ordered
  subset \(\emptyset\) of \(X\) has an upper bound in \(X\), the set
  \(X\) is non-empty; fix an element \(x_0 \in X\).  For every
  \(\lambda \in \Lambda\), define a function
  \(f_\lambda : X^{(-\infty, \lambda)} \to X\) by setting
  \begin{displaymath}
    f_\lambda(s) =
    \begin{cases}
      h(\varphi(s((-\infty, \lambda))))
      & \text{if} ~ s ~ \text{is strictly increasing} \\
      x_0
      &
        \text{otherwise}
    \end{cases}
  \end{displaymath}
  for every function \(s : (-\infty, \lambda) \to X\).  Transfinite
  recursion (\Cref{thm:5kg5ewo1}) gives a unique function
  \(u : \Lambda \to X\) such that
  \(u(\lambda) = f_\lambda(u \vert_{(-\infty, \lambda)})\) for all
  \(\lambda \in \Lambda\).  Let \(\Sigma\) be the set of all
  \(\lambda \in \Lambda\) such that \(u\) is strictly increasing on
  \((-\infty, \lambda)\).  For all \(\lambda \in \Sigma\),
  \(u(\lambda) = h(\varphi(u((-\infty, \lambda))))\).  If
  \(\lambda \in \Lambda\) and \((-\infty, \lambda) \subset \Sigma\),
  then for all \(\mu, \nu \in \Lambda\) such that
  \(\nu < \mu < \lambda\), \(u(\nu) < u(\mu)\) because
  \(\mu \in (-\infty, \lambda) \subset \Sigma\) and
  \(u(\mu) = h(\varphi(u((-\infty, \mu))))\) belongs to
  \((u((-\infty, \mu)))^*\); therefore, \(u\) is strictly increasing
  on \((-\infty, \lambda)\), so \(\lambda \in \Sigma\).  Thus,
  \(\Sigma\) is an inductive subset of \(\Lambda\).  Transfinite
  induction (\Cref{thm:5vxgawq0}) implies that \(\Sigma = \Lambda\).
  It follows that \(u(\lambda) = h(\varphi(u((-\infty, \lambda))))\)
  for all \(\lambda \in \Lambda\).  In particular,
  \(u(\lambda) \in (u((-\infty, \lambda)))^*\) for all
  \(\lambda \in \Lambda\), hence \(u\) is strictly increasing.  The
  rest of the solution is as before.
\end{solution}

\bibsection

\end{document}

%%% End of file
